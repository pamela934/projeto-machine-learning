# 1. Escolhe a imagem base (Python 3.12 é o ideal)
FROM python:3.12-slim

# 2. Define o diretório de trabalho dentro do container
WORKDIR /app

# 3. Copia o arquivo de dependências e instala as bibliotecas
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# 4. Copia o restante do código e modelos (app.py, modelos .pkl, etc.)
COPY . .

# 5. Expõe a porta que o Gunicorn vai usar
EXPOSE 7860

# 6. Comando para iniciar o servidor Gunicorn
CMD ["gunicorn", "--bind", "0.0.0.0:7860", "app:app"]